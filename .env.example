# =============================================================================
# STOCKSPOT - AUTONOMOUS MULTI-RETAILER DEAL & RESTOCK MONITOR
# =============================================================================
# Email Notifications + RSS Feeds + PWA + Stripe Monetization
# Copy this file to .env and configure the required variables below.
# =============================================================================

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
NODE_ENV=production
PORT=3000
FRONTEND_URL=https://yourdomain.com

# =============================================================================
# DATABASE (MongoDB - required for user accounts and subscriptions)
# =============================================================================
MONGODB_URI=mongodb://user:password@host:27017/stockspot
DATABASE_TYPE=mongodb

# =============================================================================
# DRY-RUN MODE (Logs feeds without processing, no credentials required)
# =============================================================================
DRY_RUN=false
DRY_RUN_MOCK_DATA=false

# =============================================================================
# SECURITY & AUTHENTICATION
# =============================================================================
JWT_SECRET=your-secret-key-minimum-32-characters-required-here
JWT_EXPIRY=7d
BCRYPT_ROUNDS=10

# =============================================================================
# EMAIL NOTIFICATIONS (SendGrid - Production Email Service)
# =============================================================================
EMAIL_ENABLED=true
EMAIL_SERVICE=sendgrid
SENDGRID_API_KEY=SG.your-sendgrid-api-key-here
EMAIL_FROM=alerts@stockspot.com
EMAIL_FROM_NAME=StockSpot Deals

# Alternative: Use Nodemailer SMTP
# EMAIL_SERVICE=smtp
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASSWORD=your-app-password

# =============================================================================
# STRIPE PAYMENT PROCESSING (Required for monetization)
# =============================================================================
STRIPE_SECRET_KEY=sk_live_your-stripe-secret-key
STRIPE_PUBLISHABLE_KEY=pk_live_your-stripe-publishable-key
STRIPE_WEBHOOK_SECRET=whsec_your-stripe-webhook-secret

# Stripe Product Price IDs (create in Stripe Dashboard)
# Free tier: no price ID (free tier)
STRIPE_PRICE_MONTHLY_ID=price_xxx  # $9.99/month
STRIPE_PRICE_YEARLY_ID=price_yyy   # $99/year

# =============================================================================
# AMAZON AFFILIATE PROGRAM (For affiliate commissions)
# =============================================================================
AMAZON_ASSOCIATE_ID=your-amazon-associate-id
AMAZON_PARTNER_TAG=your-partner-tag

# =============================================================================
# RETAILER MONITORING (Multi-retailer feed ingestion)
# =============================================================================
WALMART_MONITORING_ENABLED=true
TARGET_MONITORING_ENABLED=true
BESTBUY_MONITORING_ENABLED=true
TCG_MONITORING_ENABLED=true
SPORTS_CARDS_MONITORING_ENABLED=true

# =============================================================================
# OBSERVER ENGINE SCHEDULING (Autonomous feed ingestion)
# =============================================================================
# Observer runs every N minutes to check for new deals and restocks
MONITOR_INTERVAL_MINUTES=5
RESTOCK_CHECK_INTERVAL_MINUTES=2
MAX_RETRIES=3
RETRY_DELAY=1000

# =============================================================================
# FEED CONFIGURATION (RSS + Email)
# =============================================================================
FEED_MAX_ITEMS=100
FEED_RETENTION_DAYS=7

# =============================================================================
# TIER SYSTEM (FREE / PAID / YEARLY)
# =============================================================================
# FREE: 10-minute delayed notifications (except Amazon which is instant)
# PAID: Instant notifications on all retailers
# YEARLY: Instant + manual item submission feature
FREE_TIER_DELAY_MINUTES=10
AFFILIATE_LINK_AUTO_CONVERT=true

# =============================================================================
# LOGGING & DEBUGGING
# =============================================================================
LOG_LEVEL=info
DEBUG=false

# =============================================================================
# RENDER.COM DEPLOYMENT (Auto-set by Render - do not modify)
# =============================================================================
# PORT and DATABASE will be automatically set by Render environment
